# Vue + Element Plus å›ºå®šå¸ƒå±€ä¸å†…éƒ¨æ»šåŠ¨å®ç°åŸç†

## ğŸ“‹ æ¦‚è¿°

æœ¬æ–‡æ¡£è§£é‡Šå¦‚ä½•å®ç°ä¸€ä¸ª**æ•´ä½“é¡µé¢ä¸æ»šåŠ¨ï¼Œåªæœ‰è¡¨æ ¼å†…å®¹åŒºåŸŸæ»šåŠ¨ï¼Œåˆ†é¡µå™¨å§‹ç»ˆå¯è§**çš„å¸ƒå±€æ•ˆæœã€‚

## ğŸ¯ ç›®æ ‡å¸ƒå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Header (60px)                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚         â”‚          æŸ¥è¯¢é¢æ¿ (å›ºå®šé«˜åº¦)            â”‚
â”‚  ä¾§è¾¹æ   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚         â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  (å›ºå®š   â”‚   â”‚       è¡¨æ ¼å†…å®¹ (æ»šåŠ¨åŒºåŸŸ)        â”‚ â”‚
â”‚   å®½åº¦)  â”‚   â”‚                                 â”‚ â”‚
â”‚         â”‚   â”‚         â†• å¯æ»šåŠ¨ â†•              â”‚ â”‚
â”‚         â”‚   â”‚                                 â”‚ â”‚
â”‚         â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚         â”‚          åˆ†é¡µå™¨ (å§‹ç»ˆå¯è§)             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”‘ æ ¸å¿ƒåŸç†

### 1. é«˜åº¦ä¼ é€’é“¾

è¦å®ç°å›ºå®šå¸ƒå±€ï¼Œå¿…é¡»ä» `html` ä¸€ç›´åˆ°ç›®æ ‡å®¹å™¨ï¼Œå½¢æˆä¸€æ¡å®Œæ•´çš„**é«˜åº¦ä¼ é€’é“¾**ï¼š

```
html (100%)
 â””â”€ body (100%)
     â””â”€ #app (100%)
         â””â”€ common-layout (100vh)  â† è§†å£é«˜åº¦é”šç‚¹
             â””â”€ layout-root (100%)
                 â””â”€ el-container (calc(100% - 60px))
                     â””â”€ layout-main (100%)
                         â””â”€ page-container (100%)
                             â””â”€ result-panel (flex: 1)
                                 â””â”€ table-container (flex: 1)
```

**å…³é”®ç‚¹**ï¼šå¦‚æœé“¾æ¡ä¸­ä»»ä½•ä¸€ä¸ªå…ƒç´ æ²¡æœ‰æ˜ç¡®çš„é«˜åº¦ï¼Œ`height: 100%` å°†å¤±æ•ˆã€‚

### 2. Flexbox å¸ƒå±€æ ¸å¿ƒ

#### ä¸ºä»€ä¹ˆä½¿ç”¨ Flexboxï¼Ÿ

ä¼ ç»Ÿçš„ `height: 100%` éœ€è¦æ‰€æœ‰çˆ¶å…ƒç´ éƒ½æœ‰æ˜ç¡®é«˜åº¦ã€‚è€Œ Flexbox çš„ `flex: 1` å¯ä»¥è‡ªåŠ¨è®¡ç®—å‰©ä½™ç©ºé—´ã€‚

#### å…³é”®å±æ€§è§£é‡Š

```css
.container {
  display: flex;
  flex-direction: column;  /* å‚ç›´æ’åˆ— */
}

.fixed-part {
  flex-shrink: 0;  /* ä¸è¢«å‹ç¼©ï¼Œä¿æŒåŸå§‹å¤§å° */
}

.flexible-part {
  flex: 1;         /* å ç”¨æ‰€æœ‰å‰©ä½™ç©ºé—´ */
  min-height: 0;   /* å…è®¸ç¼©å°åˆ° 0ï¼ˆå…³é”®ï¼ï¼‰ */
  overflow: hidden; /* é˜²æ­¢å†…å®¹æº¢å‡º */
}
```

### 3. `min-height: 0` çš„é‡è¦æ€§

è¿™æ˜¯æœ€å®¹æ˜“è¢«å¿½ç•¥ä½†åˆæœ€å…³é”®çš„å±æ€§ï¼

**é—®é¢˜**ï¼šFlexbox å­å…ƒç´ é»˜è®¤ `min-height: auto`ï¼Œæ„å‘³ç€å®ƒè‡³å°‘è¦å’Œå†…å®¹ä¸€æ ·é«˜ã€‚

**ç»“æœ**ï¼šå³ä½¿è®¾ç½®äº† `flex: 1`ï¼Œå½“å†…å®¹è¶…å‡ºæ—¶ï¼Œå®¹å™¨ä¼šè¢«æ’‘å¤§ã€‚

**è§£å†³**ï¼šè®¾ç½® `min-height: 0` å…è®¸å®¹å™¨å°äºå†…å®¹é«˜åº¦ã€‚

```css
.scroll-container {
  flex: 1;
  min-height: 0;    /* å…è®¸ç¼©å° */
  overflow: hidden; /* é…åˆä½¿ç”¨ */
}
```

### 4. `overflow: hidden` çš„å±‚å±‚ä¼ é€’

æ¯ä¸ªçˆ¶å®¹å™¨éƒ½éœ€è¦è®¾ç½® `overflow: hidden`ï¼ŒåŸå› ï¼š

1. **é˜»æ­¢æº¢å‡ºä¼ æ’­**ï¼šé˜²æ­¢å­å…ƒç´ å†…å®¹æº¢å‡ºåˆ°çˆ¶å…ƒç´ 
2. **å»ºç«‹ BFC**ï¼šåˆ›å»ºå—çº§æ ¼å¼åŒ–ä¸Šä¸‹æ–‡ï¼Œéš”ç¦»å¸ƒå±€
3. **é…åˆ `min-height: 0`**ï¼šä¸¤è€…é…åˆæ‰èƒ½æ­£ç¡®å·¥ä½œ

```
html, body, #app  { overflow: hidden }
       â†“
common-layout     { overflow: hidden }
       â†“
layout-root       { overflow: hidden }
       â†“
layout-main       { overflow: hidden }
       â†“
page-container    { overflow: hidden }
       â†“
result-panel      { overflow: hidden }
       â†“
table-container   { overflow: hidden }
       â†“
el-table__body    { overflow-y: auto }  â† æœ€ç»ˆæ»šåŠ¨ç‚¹
```

## ğŸ“ å¸ƒå±€ç»“æ„è¯¦è§£

### App.vue - å…¨å±€æ¡†æ¶

```css
/* 1. å…¨å±€ç¦æ­¢æ»šåŠ¨ */
html, body, #app {
  height: 100%;
  margin: 0;
  overflow: hidden;
}

/* 2. æ ¹å®¹å™¨å›ºå®šä¸ºè§†å£é«˜åº¦ */
.common-layout {
  height: 100vh;      /* ä½¿ç”¨ vh å•ä½ï¼Œä¸ä¾èµ–çˆ¶å…ƒç´  */
  overflow: hidden;
}

/* 3. å†…éƒ¨å®¹å™¨ç»§æ‰¿é«˜åº¦ */
.layout-root {
  height: 100%;
  overflow: hidden;
}

/* 4. ä¸»å†…å®¹åŒºï¼šæ€»é«˜åº¦å‡å» header */
.layout-root > .el-container {
  height: calc(100% - 60px);  /* 60px æ˜¯ header é«˜åº¦ */
  overflow: hidden;
}

/* 5. ä¸»å†…å®¹åŒºé“ºæ»¡ */
.layout-main {
  height: 100%;
  overflow: hidden;
  padding: 0;  /* ç§»é™¤é»˜è®¤ padding */
}
```

### TradeDateQuery.vue - é¡µé¢å¸ƒå±€

```css
/* 1. é¡µé¢å®¹å™¨é“ºæ»¡çˆ¶å…ƒç´  */
.page-container {
  height: 100%;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

/* 2. æŸ¥è¯¢é¢æ¿å›ºå®šé«˜åº¦ */
.query-panel {
  flex-shrink: 0;  /* ä¸å‹ç¼© */
}

/* 3. ç»“æœé¢æ¿å ç”¨å‰©ä½™ç©ºé—´ */
.result-panel {
  flex: 1;           /* å ç”¨å‰©ä½™ç©ºé—´ */
  min-height: 0;     /* å…è®¸ç¼©å° */
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

/* 4. è¡¨æ ¼å®¹å™¨ */
.table-container {
  flex: 1;
  min-height: 0;
  overflow: hidden;
}

/* 5. åˆ†é¡µå™¨å›ºå®šåº•éƒ¨ */
.pagination-container {
  flex-shrink: 0;  /* ä¸å‹ç¼©ï¼Œå§‹ç»ˆå¯è§ */
}
```

### Element Plus è¡¨æ ¼æ ·å¼è¦†ç›–

```css
/* è¡¨æ ¼å†…éƒ¨ç»“æ„ä¹Ÿéœ€è¦ flex å¸ƒå±€ */
.table-container :deep(.el-table__inner-wrapper) {
  height: 100%;
  display: flex;
  flex-direction: column;
}

/* è¡¨å¤´å›ºå®š */
.table-container :deep(.el-table__header-wrapper) {
  flex-shrink: 0;
}

/* è¡¨æ ¼å†…å®¹åŒºæ»šåŠ¨ */
.table-container :deep(.el-table__body-wrapper) {
  flex: 1;
  overflow-y: auto !important;  /* è¿™é‡Œæ˜¯å”¯ä¸€çš„æ»šåŠ¨ç‚¹ */
}
```

## âš ï¸ å¸¸è§é”™è¯¯

### é”™è¯¯ 1ï¼šä½¿ç”¨ `min-height: 100vh`

```css
/* âŒ é”™è¯¯ */
.container {
  min-height: 100vh;  /* å…è®¸è¶…å‡ºè§†å£ */
}

/* âœ… æ­£ç¡® */
.container {
  height: 100vh;      /* å›ºå®šä¸ºè§†å£é«˜åº¦ */
  overflow: hidden;
}
```

### é”™è¯¯ 2ï¼šå¿˜è®° `min-height: 0`

```css
/* âŒ é”™è¯¯ */
.flex-child {
  flex: 1;
  overflow: hidden;
  /* ç¼ºå°‘ min-height: 0ï¼Œå†…å®¹ä»ä¼šæ’‘å¤§å®¹å™¨ */
}

/* âœ… æ­£ç¡® */
.flex-child {
  flex: 1;
  min-height: 0;  /* å…³é”®ï¼ */
  overflow: hidden;
}
```

### é”™è¯¯ 3ï¼šé«˜åº¦é“¾æ–­è£‚

```css
/* âŒ é”™è¯¯ï¼šä¸­é—´æŸä¸ªå®¹å™¨æ²¡æœ‰è®¾ç½®é«˜åº¦ */
.parent { height: 100%; }
.middle { /* æ²¡æœ‰è®¾ç½®é«˜åº¦ */ }
.child  { height: 100%; }  /* è¿™ä¸ª 100% æ— æ•ˆ */

/* âœ… æ­£ç¡®ï¼šé“¾æ¡å®Œæ•´ */
.parent { height: 100%; }
.middle { height: 100%; }
.child  { height: 100%; }
```

## ğŸ”§ è°ƒè¯•æŠ€å·§

### 1. æ£€æŸ¥é«˜åº¦é“¾

åœ¨æµè§ˆå™¨å¼€å‘è€…å·¥å…·ä¸­ï¼Œä»ç›®æ ‡å…ƒç´ å‘ä¸Šé€å±‚æ£€æŸ¥ï¼š

```javascript
// åœ¨æ§åˆ¶å°æ‰§è¡Œ
let el = document.querySelector('.table-container');
while (el) {
  console.log(el.className, getComputedStyle(el).height);
  el = el.parentElement;
}
```

### 2. ä¸´æ—¶æ·»åŠ è¾¹æ¡†

```css
* { outline: 1px solid red !important; }
```

### 3. æ£€æŸ¥ overflow

```javascript
// æ£€æŸ¥å“ªä¸ªå…ƒç´ åœ¨æ»šåŠ¨
document.querySelectorAll('*').forEach(el => {
  if (el.scrollHeight > el.clientHeight) {
    console.log('å¯æ»šåŠ¨å…ƒç´ :', el);
  }
});
```

## ğŸ“Š æµç¨‹å›¾

```
ç”¨æˆ·æ»šåŠ¨
    â”‚
    â–¼
html/body (overflow: hidden) â”€â”€â”€â”€â”€â”
    â”‚                              â”‚
    â–¼                              â”‚ é˜»æ­¢
page-container (overflow: hidden) â”‚
    â”‚                              â”‚
    â–¼                              â”‚
result-panel (overflow: hidden) â”€â”€â”˜
    â”‚
    â–¼
table-container (overflow: hidden)
    â”‚
    â–¼
el-table__body-wrapper (overflow-y: auto) â† æ»šåŠ¨ç”Ÿæ•ˆ
    â”‚
    â–¼
è¡¨æ ¼å†…å®¹æ»šåŠ¨ âœ“
```

## ğŸ“ æ€»ç»“

| å±æ€§ | ä½œç”¨ | ä½¿ç”¨ä½ç½® |
|------|------|----------|
| `height: 100vh` | å›ºå®šè§†å£é«˜åº¦é”šç‚¹ | æ ¹å®¹å™¨ |
| `height: 100%` | ç»§æ‰¿çˆ¶å…ƒç´ é«˜åº¦ | æ‰€æœ‰ä¸­é—´å®¹å™¨ |
| `flex: 1` | å ç”¨å‰©ä½™ç©ºé—´ | éœ€è¦è‡ªåŠ¨å¡«å……çš„å®¹å™¨ |
| `flex-shrink: 0` | ä¿æŒå›ºå®šé«˜åº¦ | å›ºå®šéƒ¨åˆ†ï¼ˆheaderã€footerï¼‰ |
| `min-height: 0` | å…è®¸ flex å­å…ƒç´ ç¼©å° | æ‰€æœ‰ flex: 1 çš„å®¹å™¨ |
| `overflow: hidden` | é˜»æ­¢æº¢å‡ºä¼ æ’­ | æ‰€æœ‰ä¸éœ€è¦æ»šåŠ¨çš„å®¹å™¨ |
| `overflow-y: auto` | å¯ç”¨å‚ç›´æ»šåŠ¨ | å”¯ä¸€çš„æ»šåŠ¨å®¹å™¨ |

---

## ğŸ”— ç›¸å…³æ–‡ä»¶

- `src/App.vue` - å…¨å±€å¸ƒå±€æ¡†æ¶
- `src/views/TradeDateQuery.vue` - äº¤æ˜“æ—¥æŸ¥è¯¢é¡µé¢

---

**è®°ä½**ï¼šå›ºå®šå¸ƒå±€çš„æ ¸å¿ƒæ˜¯å»ºç«‹ä¸€æ¡å®Œæ•´çš„é«˜åº¦ä¼ é€’é“¾ï¼Œå¹¶åœ¨æ­£ç¡®çš„ä½ç½®è®¾ç½® `overflow` å±æ€§ã€‚

